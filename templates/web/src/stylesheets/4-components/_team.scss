// ==========================================================================
// TEAM
// ==========================================================================

//
// ACCORDION HORIZONTAL SAMPLES
//
// https://codepen.io/sfi0zy/pen/KeMZEb
// https://codepen.io/bbx/pen/Jxoqdg
// https://codepen.io/arjancodes/pen/gbweYB
//
// https://codepen.io/ferry/pen/ZYVwxz
// https://codepen.io/stefcharle/pen/Gydvbx
// https://codepen.io/emoreno911/pen/dOveoY
//
// https://www.codeply.com/go/nBRcoEWHcN/bootstrap-responsive-horizontal-accordion-panels
//

@include new("team") {
    padding: 2rem 0;
    background-color: rgba($black, 0.1);

    .team__member {
        height: 30rem;
    }


    //
    // BOXES
    // --------------------------------------------------------------------------

    @include has("wrapper") {
        display: flex;
        height: 100%;
    }

    @include has("info") {
        position: relative;
        flex-basis: 20%;
        max-width: 20%;
        margin-right: 0.5rem;
        padding: 1rem;
        background-color: $complementary-color;

        .double__arrow__link {
            @include fontSet(20px, 20px);
            position: absolute;
            bottom: 20px;
            color: $main-color;

            &:before,
            &:after {
                top: -5px;
            }
        }

        @include has("title") {
            margin-bottom: 1rem;
            @include fontSet(16px, 19px);
            font-weight: bold;
            text-transform: uppercase;
            color: $main-color;
        }

        @include has("intro") {
            @include fontSet(28px, 30px);
            font-weight: normal;
            color: $white;
        }
    }

    @include has("list") {
        flex-basis: 80%;
        max-width: 80%;
        display: flex;
        flex-flow: row nowrap;
    }

    @include has("member") {
        flex: 1;
        width: 100%;
        height: auto;
        margin-right: 0.5rem;
        padding: 1rem;
        position: relative;
        overflow: hidden;
        display: flex;
        flex-flow: column nowrap;

        // background-size: cover;
        // background-position: 0 30%;
        background-size: auto 100%;
        background-position: 94% 0;
        background-repeat: no-repeat;
        // background-blend-mode: normal;
        background-color: rgba($black, 0.5);

        // background-image: linear-gradient(0deg, rgba(0,0,0,1) 0%, rgba(255,255,255,1) 100%);
        transition: all 0.4s ease-in-out;

        &:last-child {
            margin-right: 0;
        }

        @include has("link") {
            @include box-hidden-link;
            margin: -1rem 0 0 -1rem;
        }

        @include has("name") {
            order: 2;
            width: 100%;
            margin-top: 1rem;
            @include fontSet(28px, 30px);
            font-weight: normal;
            color: $white;
        }

        @include has("details") {
            order: 1;
        }

        @include has("position") {
            @include fontSet(16px, 16px);
            font-weight: bold;
            text-transform: uppercase;
            color: $main-color;
        }

        @include has("practice") {
            @include reset-list;
            width: 100%;
            padding: 0 0;
            margin: 0 0;
            flex-wrap: wrap;
            overflow: hidden;

            @include has("item") {
                flex: 0 0 auto;
                position: relative;
                margin: 4px 16px 0 0;
                padding: 0 0;
                @include fontSet(16px, 16px);
                font-weight: bold;
                text-transform: uppercase;
                color: $main-color;

                &:before {
                    content: "";
                    position: absolute;
                    top: -1px;
                    left: -8px;
                    width: 2px;
                    height: 100%;
                    background-color: $main-color;
                }

                &:first-child {
                    &:before {
                        display: none;
                    }
                }
            }
        }


        @include has("resume") {
            position: absolute;
            bottom: 1rem;
            width: 50%;
            overflow: hidden;
            opacity: 0;
            transition: opacity 0.8s ease-out;

            p {
                margin-bottom: 0;
                @include fontSet(20px, 24px);
                color: $white;
            }
        }

        //
        // JUST ONE MEMBER
        //
        &:only-child {
            background-position: 100% 100%;
            background-size: auto 130%;

            .team__member__resume {
                // opacity: 1;
            }
        }


        @include on-event() {
            // flex-grow: 0;
            // background-position: 92% 0;
            // background-blend-mode: overlay;

            // flex-grow: 3;
            // background-position: 94% 0;
            background-blend-mode: luminosity;
            background-color: rgba($complementary-color, 0.3);
        }


        //
        // Advanced Numeric Selection
        //
        // https://css-tricks.com/solved-with-css-logical-styling-based-on-the-number-of-given-elements/
        // https://stackoverflow.com/questions/8720931/can-css-detect-the-number-of-children-an-element-has
        //
        // https://codepen.io/mattlubner-the-decoder/pen/ExaQZQR
        // --------------------------------------------------------------------------

        // one item
        &:first-child:nth-last-child(1) {
            .team__member__practice {
                display: flex;
            }

            .team__member__details {
                width: 75%;
            }
        }

        // two items
        &:first-child:nth-last-child(2), &:first-child:nth-last-child(2) ~ article {
            @include on-event() {
                flex-grow: 3;

                .team__member__practice {
                    display: flex;
                }
            }

        }

        // three items
        &:first-child:nth-last-child(3), &:first-child:nth-last-child(3) ~ article {
            @include on-event() {
                flex-grow: 4;

                .team__member__practice {
                    display: flex;
                }
            }
        }

        // four items
        &:first-child:nth-last-child(4), &:first-child:nth-last-child(4) ~ article {
            @include on-event() {
                flex-grow: 5;

                .team__member__practice {
                    display: flex;
                }
            }
        }

        // five items
        &:first-child:nth-last-child(5), &:first-child:nth-last-child(5) ~ article {
            @include on-event() {
                flex-grow: 6;

                .team__member__practice {
                    display: flex;
                }
            }
        }


        //
        // maybe... Â¿?
        //
        // img {
        //     width: 100%;
        //     height: 100%;
        //     object-fit: cover;
        //     filter: grayscale(100%);
        //     transition: all 1s ease-in-out;
        // }


    }

}
