// ==========================================================================
// TEAM
// ==========================================================================

//
// ACCORDION HORIZONTAL SAMPLES
//
// https://codepen.io/sfi0zy/pen/KeMZEb
// https://codepen.io/bbx/pen/Jxoqdg
// https://codepen.io/arjancodes/pen/gbweYB
//
// https://codepen.io/ferry/pen/ZYVwxz
// https://codepen.io/stefcharle/pen/Gydvbx
// https://codepen.io/emoreno911/pen/dOveoY
//
// https://www.codeply.com/go/nBRcoEWHcN/bootstrap-responsive-horizontal-accordion-panels
//

@include new("team") {
    background-color: rgba($black, 0.1);

    .team__member {
        height: 30rem;
    }


    //
    // GENERAL TYPO SETTINGS
    // --------------------------------------------------------------------------

    h3 {
        margin-bottom: 1rem;
        @include fontSet(16px, 18px);
        font-weight: bold;
        text-transform: uppercase;
        color: $main-color;
    }

    h4 {
        @include fontSet(28px, 30px);
        font-weight: normal;
        color: $white;
    }

    p {
        @include fontSet(20px, 24px);
        color: $white;
    }


    //
    // BOXES
    // --------------------------------------------------------------------------

    @include has("wrapper") {
        display: flex;
        height: 100%;
    }

    @include has("info") {
        position: relative;
        flex-basis: 20%;
        max-width: 20%;
        margin-right: 0.5rem;
        padding: 1rem;
        background-color: $complementary-color;

        .double__arrow__link {
            @include fontSet(20px, 20px);
            position: absolute;
            bottom: 20px;
            color: $main-color;

            &:before,
            &:after {
                top: -5px;
            }
        }
    }

    @include has("list") {
        flex-basis: 80%;
        max-width: 80%;
        display: flex;
        flex-flow: row nowrap;
    }

    @include has("member") {
        flex: 1;
        width: 100%;
        height: auto;
        margin-right: 0.5rem;
        padding: 1rem;
        position: relative;
        overflow: hidden;
        display: flex;
        flex-flow: column nowrap;

        // background-size: cover;
        // background-position: 0 30%;
        background-size: auto 100%;
        background-position: 94% 0;
        background-repeat: no-repeat;
        // background-blend-mode: normal;
        background-color: rgba($black, 0.5);

        // background-image: linear-gradient(0deg, rgba(0,0,0,1) 0%, rgba(255,255,255,1) 100%);
        transition: all 0.4s ease-in-out;

        &:last-child {
            margin-right: 0;
        }

        @include has("link") {
            @include box-hidden-link;
            margin: -1rem 0 0 -1rem;
        }

        @include has("position") {}
        @include has("name") {}

        @include has("resume") {
            position: absolute;
            bottom: 1rem;
            width: 50%;
            overflow: hidden;
            opacity: 0;
            transition: opacity 0.8s ease-out;

            p {
                margin-bottom: 0;
            }
        }

        //
        // JUST ONE MEMBER
        //
        &:only-child {
            background-position: 100% 100%;
            background-size: auto 130%;

            .team__member__resume {
                opacity: 1;
            }
        }


        @include on-event() {
            // flex-grow: 0;
            // background-position: 92% 0;
            // background-blend-mode: overlay;

            // flex-grow: 3;
            // background-position: 94% 0;
            background-blend-mode: luminosity;
            background-color: rgba($complementary-color, 0.3);
        }


        //
        // Advanced Numeric Selection
        //
        // https://css-tricks.com/solved-with-css-logical-styling-based-on-the-number-of-given-elements/
        // https://stackoverflow.com/questions/8720931/can-css-detect-the-number-of-children-an-element-has
        //
        // https://codepen.io/mattlubner-the-decoder/pen/ExaQZQR
        // --------------------------------------------------------------------------

        // one item
        &:first-child:nth-last-child(1) {
            // outline: 5px solid #4b6cb7;
        }

        // two items
        &:first-child:nth-last-child(2), &:first-child:nth-last-child(2) ~ article {
            // outline: 5px solid #00C9FF;

            @include on-event() {
                flex-grow: 3;
            }
        }

        // three items
        &:first-child:nth-last-child(3), &:first-child:nth-last-child(3) ~ article {
            // outline: 5px solid #FC466B;

            @include on-event() {
                flex-grow: 5;
            }
        }

        // four items
        &:first-child:nth-last-child(4), &:first-child:nth-last-child(4) ~ article {
            // outline: 5px solid #3F2B96;

            @include on-event() {
                flex-grow: 4;
            }
        }

        // five items
        &:first-child:nth-last-child(5), &:first-child:nth-last-child(5) ~ article {
            // outline: 5px solid #FDBB2D;

            @include on-event() {
                flex-grow: 5;
            }
        }


        //
        // maybe... Â¿?
        //
        // img {
        //     width: 100%;
        //     height: 100%;
        //     object-fit: cover;
        //     filter: grayscale(100%);
        //     transition: all 1s ease-in-out;
        // }


    }

}
