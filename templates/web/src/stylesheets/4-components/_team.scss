// ==========================================================================
// TEAM
// ==========================================================================

//
// ACCORDION HORIZONTAL SAMPLES
//
// https://codepen.io/sfi0zy/pen/KeMZEb
// https://codepen.io/bbx/pen/Jxoqdg
// https://codepen.io/arjancodes/pen/gbweYB
//
// https://codepen.io/ferry/pen/ZYVwxz
// https://codepen.io/stefcharle/pen/Gydvbx
// https://codepen.io/emoreno911/pen/dOveoY
//
// https://www.codeply.com/go/nBRcoEWHcN/bootstrap-responsive-horizontal-accordion-panels
//

@include new("team") {
    padding: 2rem 0;
    background-color: rgba($black, 0.1);

    .team__member {
        // height: 22rem;
        min-height: 330px;
    }


    //
    // BOXES
    // --------------------------------------------------------------------------

    @include has("wrapper") {
        display: flex;
        height: 100%;
    }

    @include has("info") {
        position: relative;
        flex-basis: 20%;
        max-width: 20%;
        margin-right: 0.5rem;
        padding: 1rem;
        background-color: $complementary-color;

        .doble__arrow__link {
            @include fontSet(20px, 20px);
            position: absolute;
            bottom: 20px;
            padding: 0.3rem 2rem 0.3rem 0px;
            letter-spacing: 0.61px;
            color: $white;

            &:before,
            &:after {
                @include fontSet(26px, 40px);
                top: -4px;
                color: $white;
            }

            @include on-event() {
                padding-left: 1.4rem;
                padding-right: 0px;
            }
        }

        @include has("title") {
            margin-bottom: 1rem;
            @include fontSet(16px, 19px);
            font-weight: bold;
            text-transform: uppercase;
            color: $main-color;
            word-spacing: 100vw;
        }

        @include has("intro") {
            margin-bottom: 4rem;
            @include fontSet(33px, 37px);
            font-weight: normal;
            color: $white;
        }
    }

    @include has("list") {
        flex-basis: 80%;
        max-width: 80%;
        display: flex;
        flex-flow: row nowrap;
    }

    @include has("member") {
        flex: 1;
        width: 100%;
        height: auto;
        margin-right: 0.5rem;
        padding: 1rem;
        position: relative;
        overflow: hidden;
        display: flex;
        flex-flow: column nowrap;

        // background-size: auto 100%;
        // background-position: 94% 0;
        background-repeat: no-repeat;
        background-blend-mode: normal;
        background-color: rgba($black, 0.5);

        // background-image: linear-gradient(0deg, rgba(0,0,0,1) 0%, rgba(255,255,255,1) 100%);
        transition: all 0.4s ease-in-out;

        &:last-child {
            margin-right: 0;
        }

        @include has("link") {
            @include box-hidden-link;
            margin: -1rem 0 0 -1rem;
        }

        @include has("name") {
            order: 2;
            margin-top: 1rem;
            // width: 140px;
            @include fontSet(33px, 37px);
            font-weight: normal;
            color: $white;
            word-spacing: 100vw;
            overflow: hidden;
        }

        @include has("details") {
            order: 1;
        }

        @include has("position") {
            @include fontSet(16px, 16px);
            font-weight: bold;
            text-transform: uppercase;
            color: $main-color;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        @include has("practice") {
            @include reset-list;
            display: flex;
            flex-wrap: nowrap;
            margin: 0.2rem 0;
            overflow: hidden;

            @include has("item") {
                flex: 0 0 auto;
                position: relative;
                margin: 0 16px 0 0;
                padding: 0 0;
                @include fontSet(16px, 16px);
                font-weight: bold;
                text-transform: uppercase;
                color: $main-color;

                &:before {
                    content: "";
                    position: absolute;
                    top: -3px;
                    left: -8px;
                    width: 2px;
                    height: 100%;
                    background-color: $main-color;
                }

                &:first-child {
                    display: block;
                    &:before {
                        display: none;
                    }
                }
            }
        }

        @include has("sector") {
            margin: 0.2rem 0;
            @include fontSet(16px, 16px);
            font-weight: bold;
            text-transform: uppercase;

            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;

            color: $main-color;
        }

        @include has("place") {
            @include fontSet(16px, 16px);
            font-weight: bold;
            text-transform: uppercase;
            color: $main-color;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        @include has("resume") {
            position: absolute;
            bottom: 1rem;
            width: 50%;
            overflow: hidden;
            opacity: 0;
            transition: opacity 0.8s ease-out;

            p {
                margin-bottom: 0;
                @include fontSet(20px, 24px);
                color: $white;
            }
        }

        @include on-event() {
            background-blend-mode: luminosity;
            background-color: rgba($complementary-color, 0.3);
        }


        //
        // Advanced Numeric Selection
        //
        // https://css-tricks.com/solved-with-css-logical-styling-based-on-the-number-of-given-elements/
        // https://stackoverflow.com/questions/8720931/can-css-detect-the-number-of-children-an-element-has
        //
        // https://codepen.io/mattlubner-the-decoder/pen/ExaQZQR
        // --------------------------------------------------------------------------

        // one item
        &:first-child:nth-last-child(1) {
            background-size: auto 130%;
            background-position: 100% 100%;

            .team__member__name {
                // width: 180px;
            }

            .team__member__details {
                width: 75%;
            }

            // @include on-event() {
            //     background-position: 100% 100%;
            // }
        }

        // two items
        &:first-child:nth-last-child(2), &:first-child:nth-last-child(2) ~ article {
            background-size: auto 130%;
            background-position: 96% 70%;

            .team__member__name {
                // width: 160px;
            }

            // @include on-event() {
            //     flex-grow: 3;
            //     background-position: 100% 70%;
            // }
        }

        // three items
        &:first-child:nth-last-child(3), &:first-child:nth-last-child(3) ~ article {
            background-size: auto 130%;
            background-position: 96% 70%;

            .team__member__name {
                // width: 140px;
            }

            // @include on-event() {
            //     flex-grow: 4;
            //     background-position: 100% 70%;
            // }
        }

        // four items
        &:first-child:nth-last-child(4), &:first-child:nth-last-child(4) ~ article {
            background-size: auto 120%;
            background-position: 94% 80%;

            .team__member__name {
                // width: 140px;
            }

            // @include on-event() {
            //     flex-grow: 5;
            //     background-position: 100% 80%;
            // }
        }

        // five items
        &:first-child:nth-last-child(5), &:first-child:nth-last-child(5) ~ article {
            background-size: auto 110%;
            background-position: 94% 100%;

            .team__member__name {
                // width: 140px;
            }

            // @include on-event() {
            //     flex-grow: 6;
            //     background-position: 100% 100%;
            // }
        }


        //
        // maybe... Â¿?
        //
        // img {
        //     width: 100%;
        //     height: 100%;
        //     object-fit: cover;
        //     filter: grayscale(100%);
        //     transition: all 1s ease-in-out;
        // }

    }

}
