{% extends 'web/baseFinal.html.twig' %}

{% block stylesheets %}
<style>
    .liquid-lp {
      position: relative;
      margin-bottom: 30px;
    }
    .liquid-lp-title {
      margin: 0;
      -ms-word-wrap: break-word;
      word-wrap: break-word;
    }
    .liquid-lp-title a {
      display: block;
      color: inherit;
    }
    .liquid-lp-title a:hover {
      color: black;
    }
    .liquid-lp-title .split-inner {
      display: inline-block;
      position: relative;
    }
    .liquid-lp-title .split-inner:after {
      content: '';
      display: inline-block;
      width: 100%;
      height: 0.1em;
      position: absolute;
      bottom: -0.05em;
      left: 0;
      background-color: #181b31;
      -webkit-transition: -webkit-transform 0.35s cubic-bezier(0.2, 0.95, 0.25, 1);
      transition: -webkit-transform 0.35s cubic-bezier(0.2, 0.95, 0.25, 1);
      transition: transform 0.35s cubic-bezier(0.2, 0.95, 0.25, 1);
      transition: transform 0.35s cubic-bezier(0.2, 0.95, 0.25, 1), -webkit-transform 0.35s cubic-bezier(0.2, 0.95, 0.25, 1);
      -webkit-transform-origin: top center;
              transform-origin: top center;
      -webkit-transform: scaleY(0);
              transform: scaleY(0);
    }
    .liquid-lp:hover .liquid-lp-title .split-unit:nth-child(0) .split-inner:after {
      -webkit-transition-delay: 0s;
              transition-delay: 0s;
    }
    .liquid-lp:hover .liquid-lp-title .split-unit:nth-child(1) .split-inner:after {
      -webkit-transition-delay: 0.0666666667s;
              transition-delay: 0.0666666667s;
    }
    .liquid-lp:hover .liquid-lp-title .split-unit:nth-child(2) .split-inner:after {
      -webkit-transition-delay: 0.1333333333s;
              transition-delay: 0.1333333333s;
    }
    .liquid-lp:hover .liquid-lp-title .split-unit:nth-child(3) .split-inner:after {
      -webkit-transition-delay: 0.2s;
              transition-delay: 0.2s;
    }
    .liquid-lp:hover .liquid-lp-title .split-unit:nth-child(4) .split-inner:after {
      -webkit-transition-delay: 0.2666666667s;
              transition-delay: 0.2666666667s;
    }
    .liquid-lp:hover .liquid-lp-title .split-unit:nth-child(5) .split-inner:after {
      -webkit-transition-delay: 0.3333333333s;
              transition-delay: 0.3333333333s;
    }
    .liquid-lp:hover .liquid-lp-title .split-unit:nth-child(6) .split-inner:after {
      -webkit-transition-delay: 0.4s;
              transition-delay: 0.4s;
    }
    .liquid-lp:hover .liquid-lp-title .split-unit:nth-child(7) .split-inner:after {
      -webkit-transition-delay: 0.4666666667s;
              transition-delay: 0.4666666667s;
    }
    .liquid-lp:hover .liquid-lp-title .split-unit:nth-child(8) .split-inner:after {
      -webkit-transition-delay: 0.5333333333s;
              transition-delay: 0.5333333333s;
    }
    .liquid-lp:hover .liquid-lp-title .split-unit:nth-child(9) .split-inner:after {
      -webkit-transition-delay: 0.6s;
              transition-delay: 0.6s;
    }
    .liquid-lp:hover .liquid-lp-title .split-unit:nth-child(10) .split-inner:after {
      -webkit-transition-delay: 0.6666666667s;
              transition-delay: 0.6666666667s;
    }
    .liquid-lp:hover .liquid-lp-title .split-inner:after {
      -webkit-transform-origin: bottom center;
              transform-origin: bottom center;
      -webkit-transform: scaleY(1);
              transform: scaleY(1);
    }
</style>
{% endblock %}

{% block main %}

    <main role="main" class="lawyer">
        <article class="container-fluid">
            <header class="row lawyer__header">
                <div class="col-md-7">
                    <h1 class="lawyer__name">
                        {{ lawyer.name }} {{ lawyer.surname }}
                        {# Juan García Hernández #}
                    </h1>
                    <h2 class="lawyer__position">
                        {{ ('sections.lawyers.lawyerCategoryTypes.' ~ lawyer.lawyerType) | trans }}
                        {# Consejera Cuatrecasas #}
                    </h2>
                    <ul class="lawyer__scope related__services">
                        {% for activity in lawyer.activities %}
                        <li class="related__services__item">
                            <a href="#" class="related__services__link">
                                {{ activity.translate(app.request.getLocale()).title}}
                            </a>
                        </li>
                        {% endfor %}
                    </ul>
                    <div class="lawyer__contact">
                        <div data-address>
                            CUATRECASAS BARCELONA
                        </div>
                        <div data-telephone>
                            {{ lawyer.phone }}
                        </div>
                        <div data-email>
                            <a href="mailto:juan.garcia.hernandez@cuatrecasas.com">
                                {{ lawyer.email }}
                            </a>
                        </div>
                    </div>
                    <div class="lawyer__details">
                        <div data-langs>
                            Español | Inglés
                        </div>
                        <div data-vcard>
                            <a href="#">vcard</a>
                        </div>
                    </div>
                    <ul class="action__icons">
                        <li><a href="#"><i class="material-icons">share</i></a></li>
                        <li><a href="#"><i class="material-icons">print</i></a></li>
                        <li><a href="#"><i class="material-icons">picture_as_pdf</i></a></li>
                        <li><a href="#"><i class="material-icons">bookmark_border</i></a></li>
                    </ul>
                </div>
                <div class="col-md-5">
                    <figure class="lawyer__media">
                        <img class="lawyer__media__photo" src="{{ asset('web/assets/img/luis-villasmil-WW1PtrGseBc-unsplash.jpg') }}" alt="{{ lawyer.name }} {{ lawyer.surname }}">
                    </figure>
                </div>
            </header>
            <section class="row lawyer__resume">
                <div class="col">
                    <p>Lorem ipsum dolor sit amet, <a href="#">consectetur adipiscing elit</a>, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco <a href="#">laboris nisi ut aliquip</a> ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim.</p>
                    <blockquote class="inline__quote">
                        <p>La formación es diaria y constante, desde el inicio del proceso hasta su conclusión.</p>
                    </blockquote>
                    {{ lawyer.translate(app.request.getLocale()).description|raw  }}
                </div>
            </section>
            <section class="row lawyer__experience">
                <div class="col d-flex">
                    <h3 class="subsection__title">Experiencia relevante</h3>
                    {# <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Fermentum posuere urna nec tincidunt. Facilisis gravida neque convallis a cras. Magnis dis parturient montes nascetur ridiculus mus mauris vitae. Libero nunc consequat interdum varius sit amet mattis vulputate. Quis lectus nulla at volutpat diam ut venenatis. Sit amet nisl suscipit adipiscing bibendum est. Id interdum velit laoreet id donec ultrices tincidunt arcu. Metus dictum at tempor commodo ullamcorper. Libero id faucibus nisl tincidunt eget nullam non nisi. Euismod nisi porta lorem mollis aliquam ut. Vehicula ipsum a arcu cursus vitae congue mauris rhoncus aenean. Scelerisque in dictum non consectetur a erat nam at lectus. Pulvinar neque laoreet suspendisse interdum consectetur libero id. Purus gravida quis blandit turpis cursus in hac habitasse platea. Enim ut tellus elementum sagittis vitae et leo duis ut. Sit amet cursus sit amet dictum sit amet justo. Penatibus et magnis dis parturient montes nascetur ridiculus mus.</p> #}


                    <div class="liquid-lp">
                        <p>Lorem ipsum dolor sit amet, <a href="#">consectetur adipiscing elit</a>, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco <a href="#">laboris nisi ut aliquip</a> ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim.</p>
                        <h2 class="liquid-lp-title">
                            <a href="#" data-split-text="text" data-split-options="{"type": "lines"}" class="split-text-applied">
                                <div class="lqd-lines split-unit lqd-unit-animation-done">
                                    <span data-text="Lorem ipsum dolor sit amet, consectetur adipiscing elit " class="split-inner">
                                        <span class="split-txt">
                                            Lorem ipsum dolor sit amet, consectetur adipiscing elit
                                        </span>
                                    </span>
                                </div>
                            </a>
                        </h2>
                    </div>


                </div>
            </section>
            <section class="row lawyer__mentions">
                <div class="col d-block">
                    <h3 class="subsection__title">Menciones</h3>
                    <ul class="mentions">
                        <li class="mentions__quote">Abogado recomendado por diferentes anuarios jurídicos como Chambers Global, Chambers Europe y Best Lawyers para la práctica de Tax.</li>
                        <li class="mentions__quote">Recomendado por diferentes anuarios jurídicos como Chambers Global, Chambers Europe y Best Lawyers para las prácticas de Tax y Family Business.</li>
                        <li class="mentions__quote">Ha sido destacado por Best Lawyers como Labor and Employement Law Lawyer of the Year 2020.</li>
                    </ul>
                    {# {{ lawyer.translate(app.request.getLocale()).mentions|raw  }} #}
                </div>
            </section>
            <section class="row lawyer__education">
                <div class="col d-flex">
                    <h3 class="subsection__title">Formación</h3>
                    <ul class="training__list">
                        <li>
                            <span data-degree>Licenciado en Derecho</span>
                            <span data-university>Universidad Oberta de Catalunya, 2004</span>
                        </li>
                        <li>
                            <span data-degree>LLM in Taxation</span>
                            <span data-university>London School of Economics, 2011</span>
                        </li>
                        <li>
                            <span data-degree>Licenciado en Derecho</span>
                            <span data-university>Universidad Oberta de Catalunya, 2004</span>
                        </li>
                        <li>
                            <span data-degree>LLM in Taxation</span>
                            <span data-university>London School of Economics, 2011</span>
                        </li>
                    </ul>
                </div>
            </section>
        </article>
    </main>
    {% include 'web/shared/publications.html.twig' %}
    {% include 'web/shared/insights.html.twig' %}

{% endblock %}

{% block javascripts %}
<script>

    /* Font Face Observer v2.0.13 - © Bram Stein. License: BSD-3-Clause */
    (function(){'use strict';var f,g=[];function l(a){g.push(a);1==g.length&&f()}function m(){for(;g.length;)g[0](),g.shift()}f=function(){setTimeout(m)};function n(a){this.a=p;this.b=void 0;this.f=[];var b=this;try{a(function(a){q(b,a)},function(a){r(b,a)})}catch(c){r(b,c)}}var p=2;function t(a){return new n(function(b,c){c(a)})}function u(a){return new n(function(b){b(a)})}function q(a,b){if(a.a==p){if(b==a)throw new TypeError;var c=!1;try{var d=b&&b.then;if(null!=b&&"object"==typeof b&&"function"==typeof d){d.call(b,function(b){c||q(a,b);c=!0},function(b){c||r(a,b);c=!0});return}}catch(e){c||r(a,e);return}a.a=0;a.b=b;v(a)}}
    function r(a,b){if(a.a==p){if(b==a)throw new TypeError;a.a=1;a.b=b;v(a)}}function v(a){l(function(){if(a.a!=p)for(;a.f.length;){var b=a.f.shift(),c=b[0],d=b[1],e=b[2],b=b[3];try{0==a.a?"function"==typeof c?e(c.call(void 0,a.b)):e(a.b):1==a.a&&("function"==typeof d?e(d.call(void 0,a.b)):b(a.b))}catch(h){b(h)}}})}n.prototype.g=function(a){return this.c(void 0,a)};n.prototype.c=function(a,b){var c=this;return new n(function(d,e){c.f.push([a,b,d,e]);v(c)})};
    function w(a){return new n(function(b,c){function d(c){return function(d){h[c]=d;e+=1;e==a.length&&b(h)}}var e=0,h=[];0==a.length&&b(h);for(var k=0;k<a.length;k+=1)u(a[k]).c(d(k),c)})}function x(a){return new n(function(b,c){for(var d=0;d<a.length;d+=1)u(a[d]).c(b,c)})};window.Promise||(window.Promise=n,window.Promise.resolve=u,window.Promise.reject=t,window.Promise.race=x,window.Promise.all=w,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype["catch"]=n.prototype.g);}());

    (function(){function l(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c);a()}):document.attachEvent("onreadystatechange",function k(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",k),a()})};function r(a){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(a));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
    this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}
    function t(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+b+";"}function y(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+"px";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function z(a,b){function c(){var a=k;y(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);y(a)};function A(a,b){var c=b||{};this.family=a;this.style=c.style||"normal";this.weight=c.weight||"normal";this.stretch=c.stretch||"normal"}var B=null,C=null,E=null,F=null;function G(){if(null===C)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);C=!!a&&603>parseInt(a[1],10)}else C=!1;return C}function J(){null===F&&(F=!!document.fonts);return F}
    function K(){if(null===E){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(b){}E=""!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:"","100px",b].join(" ")}
    A.prototype.load=function(a,b){var c=this,k=a||"BESbswy",q=0,D=b||3E3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=D?b():document.fonts.load(L(c,'"'+c.family+'"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},function(){b()})}e()}),N=new Promise(function(a,c){q=setTimeout(c,D)});Promise.race([N,M]).then(function(){clearTimeout(q);a(c)},function(){b(c)})}else m(function(){function u(){var b;if(b=-1!=
    f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===B&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),B=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=B&&(f==v&&g==v&&h==v||f==w&&g==w&&h==w||f==x&&g==x&&h==x)),b=!b;b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(q),a(c))}function I(){if((new Date).getTime()-H>=D)d.parentNode&&d.parentNode.removeChild(d),b(c);else{var a=document.hidden;if(!0===a||void 0===a)f=e.a.offsetWidth,
    g=n.a.offsetWidth,h=p.a.offsetWidth,u();q=setTimeout(I,50)}}var e=new r(k),n=new r(k),p=new r(k),f=-1,g=-1,h=-1,v=-1,w=-1,x=-1,d=document.createElement("div");d.dir="ltr";t(e,L(c,"sans-serif"));t(n,L(c,"serif"));t(p,L(c,"monospace"));d.appendChild(e.a);d.appendChild(n.a);d.appendChild(p.a);document.body.appendChild(d);v=e.a.offsetWidth;w=n.a.offsetWidth;x=p.a.offsetWidth;I();z(e,function(a){f=a;u()});t(e,L(c,'"'+c.family+'",sans-serif'));z(n,function(a){g=a;u()});t(n,L(c,'"'+c.family+'",serif'));
    z(p,function(a){h=a;u()});t(p,L(c,'"'+c.family+'",monospace'))})})};"object"===typeof module?module.exports=A:(window.FontFaceObserver=A,window.FontFaceObserver.prototype.load=A.prototype.load);}());


    /*
    / Returns a function, that, as long as it continues to be invoked, will not
    // be triggered. The function will be called after it stops being called for
    // N milliseconds. If `immediate` is passed, trigger the function on the
    // leading edge, instead of the trailing.
    */
    var liquidDebounce = function liquidDebounce(func, wait, immediate) {
    var timeout, result;

    var later = function later(context, args) {
        timeout = null;
        if (args) result = func.apply(context, args);
    };

    var debounced = restArguments(function (args) {
        if (timeout) clearTimeout(timeout);
        if (immediate) {
            var callNow = !timeout;
            timeout = setTimeout(later, wait);
            if (callNow) result = func.apply(this, args);
        } else {
            timeout = liquidDelay(later, wait, this, args);
        }

        return result;
    });

    debounced.cancel = function () {
        clearTimeout(timeout);
        timeout = null;
    };

    return debounced;
    };

    /*
    // Some functions take a variable number of arguments, or a few expected
    // arguments at the beginning and then a variable number of values to operate
    // on. This helper accumulates all remaining arguments past the function’s
    // argument length (or an explicit `startIndex`), into an array that becomes
    // the last argument. Similar to ES6’s "rest parameter".
    */
    var restArguments = function restArguments(func, startIndex) {
        startIndex = startIndex == null ? func.length - 1 : +startIndex;
        return function () {
            var length = Math.max(arguments.length - startIndex, 0),
                rest = Array(length),
                index = 0;
            for (; index < length; index++) {
                rest[index] = arguments[index + startIndex];
            }
            switch (startIndex) {
                case 0:
                    return func.call(this, rest);
                case 1:
                    return func.call(this, arguments[0], rest);
                case 2:
                    return func.call(this, arguments[0], arguments[1], rest);
            }
            var args = Array(startIndex + 1);
            for (index = 0; index < startIndex; index++) {
                args[index] = arguments[index];
            }
            args[startIndex] = rest;
            return func.apply(this, args);
        };
    };



    "use strict";
    'use strict';

    var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

    ;(function ($, window, document, undefined) {

        'use strict';

        var pluginName = 'liquidSplitText';
        var defaults = {
            type: "words", // "words", "chars", "lines". or mixed e.g. "words, chars"
            forceApply: false
        };

        var Plugin = function () {
            function Plugin(element, options) {
                _classCallCheck(this, Plugin);

                this.element = element;
                this.$element = $(element);

                this.options = $.extend({}, defaults, options);

                this._defaults = defaults;
                this._name = pluginName;

                this.splittedTextArray = [];
                this.splitTextInstance = null;
                this.isRTL = $('html').attr('dir') == 'rtl';

                this.init();
            }

            _createClass(Plugin, [{
                key: 'init',
                value: function init() {

                    this._initIO();
                }
            }, {
                key: '_initIO',
                value: function _initIO() {
                    var _this = this;

                    if (this.options.forceApply) {

                        this._initSplit();
                        this._windowResize();

                        return false;
                    }

                    new IntersectionObserver(function (enteries, observer) {

                        enteries.forEach(function (entery) {

                            if (entery.isIntersecting) {

                                _this._initSplit();
                                _this._windowResize();

                                observer.unobserve(entery.target);
                            }
                        });
                    }, { rootMargin: '10%' }).observe(this.element);
                }
            }, {
                key: '_initSplit',
                value: function _initSplit() {

                    if (this.options.forceApply) {

                        this.splitTextInstance = this._doSplit();
                        this._onSplittingDone();

                        return false;
                    } else {

                        this._onFontsLoad();
                    }
                }
            }, {
                key: '_onFontsLoad',
                value: function _onFontsLoad() {
                    var _this2 = this;

                    var elementFontFamily = this.$element.css('font-family').replace(/\"/g, '').replace(/\'/g, '').split(',')[0];
                    var elementFontWeight = this.$element.css('font-weight');
                    var elementFontStyle = this.$element.css('font-style');

                    var font = new FontFaceObserver(elementFontFamily, {
                        weight: elementFontWeight,
                        style: elementFontStyle
                    });

                    font.load().then(function () {

                        _this2.splitTextInstance = _this2._doSplit();
                        _this2._onSplittingDone();
                    }, function () {

                        _this2.splitTextInstance = _this2._doSplit();
                        _this2._onSplittingDone();
                    });
                }
            }, {
                key: 'getSplitTypeArray',
                value: function getSplitTypeArray() {
                    var type = this.options.type;

                    var splitTypeArray = type.split(',').map(function (item) {
                        return item.replace(' ', '');
                    });

                    if (!this.isRTL) {
                        return splitTypeArray;
                    } else {
                        return splitTypeArray.filter(function (type) {
                            return type !== 'chars';
                        });
                    }
                }
            }, {
                key: '_doSplit',
                value: function _doSplit() {
                    var _this3 = this;

                    if (this.$element.hasClass('split-text-applied') || this.$element.closest('.tabs-pane').length && this.$element.closest('.tabs-pane').is(':hidden')) {
                        return false;
                    }

                    var splitType = this.getSplitTypeArray();

                    var splittedText = new SplitText(this.element, {
                        type: splitType,
                        charsClass: 'lqd-chars',
                        linesClass: 'lqd-lines',
                        wordsClass: 'lqd-words'
                    });

                    $.each(splitType, function (i, type) {

                        $.each(splittedText[type], function (i, element) {

                            _this3.splittedTextArray.push(element);
                        });
                    });

                    this._unitsOp(this.splittedTextArray);

                    this.$element.addClass('split-text-applied');

                    return splittedText;
                }
            }, {
                key: '_unitsOp',
                value: function _unitsOp(splittedElements) {

                    $.each(splittedElements, function (i, element) {

                        var $element = $(element).addClass('split-unit');
                        var innerText = $element.text();

                        $element.wrapInner('<span data-text="' + innerText + '" class="split-inner"><span class="split-txt"></span></span>');
                    });
                }
            }, {
                key: '_onSplittingDone',
                value: function _onSplittingDone() {

                    var parentColumn = this.$element.closest('.wpb_wrapper, .lqd-column');

                    /*
                    if it's only a split text, then call textRotator
                    Otherwise if it has custom animations, then wait for animations to be done
                    and then textRotator will be called from customAnimations
                    */
                    if (this.$element.is('[data-text-rotator]') && !this.element.hasAttribute('data-custom-animations') && parentColumn.length && !parentColumn.get(0).hasAttribute('data-custom-animations')) {

                        this.$element.liquidTextRotator();
                    }
                }
            }, {
                key: '_onCollapse',
                value: function _onCollapse() {

                    var self = this;

                    $('[data-toggle="tab"]').on('shown.bs.tab', function (e) {

                        var href = e.target.getAttribute('href');
                        var targetPane = $(e.target).closest('.tabs').find(href);
                        var element = targetPane.find(self.element);

                        if (!element.length) return;

                        self.splitText.revert();
                        self._doSplit();
                    });
                }
            }, {
                key: '_windowResize',
                value: function _windowResize() {

                    var onResize = liquidDebounce(this._onWindowResize, 500);

                    $(window).on('resize', onResize.bind(this));
                }
            }, {
                key: '_onWindowResize',
                value: function _onWindowResize() {

                    $('html').addClass('window-resizing');

                    if (this.splitTextInstance) {

                        this.splitTextInstance.revert();
                        this.$element.removeClass('split-text-applied');
                    }

                    if (this.$element.data('plugin_liquidTextRotator')) {
                        this.$element.data('plugin_liquidTextRotator', '');
                    }

                    this._onAfterWindowResize();
                }
            }, {
                key: '_onAfterWindowResize',
                value: function _onAfterWindowResize() {

                    $('html').removeClass('window-resizing');

                    this.splitTextInstance = this._doSplit();

                    this._onSplittingDone();

                    this.$element.find('.split-unit').addClass('lqd-unit-animation-done');
                }
            }]);

            return Plugin;
        }();

        $.fn[pluginName] = function (options) {

            return this.each(function () {

                var pluginOptions = this.options = $.extend({}, $(this).data('split-options'), options);

                if (!$.data(this, "plugin_" + pluginName)) {

                    $.data(this, "plugin_" + pluginName, new Plugin(this, pluginOptions));
                }
            });
        };
    })(jQuery, window, document);

    jQuery(document).ready(function ($) {
        $('[data-split-text]').filter(function (i, element) {
            return !$(element).parents('[data-custom-animations]').length && !element.hasAttribute('data-custom-animations');
        }).liquidSplitText();
    });
</script>
{% endblock %}
